{"version":3,"sources":["components/Table/table.module.less","components/Spacer.js","components/AddNameForm/AddNameForm.js","constants.js","components/Table/Table.subcomponents.js","components/Table/Table.js","App.subcomonents.js","components/Table/Table.props.js","App.js","reportWebVitals.js","index.js","components/AddNameForm/AddNameForm.module.less"],"names":["module","exports","Spacer","width","height","style","AddNameForm","label","onAddName","React","useState","name","setName","onSubmit","event","preventDefault","className","styleClasses","formLabel","type","onChange","target","value","placeholder","constants","dealsHeaders","dealsEarnings","sumEarning","resultsHeaders","PlayersColumn","players","styles","playerscolumn","nameheader","map","player","playername","DealsColumns","deals","onChangeScore","dealscontainer","dealHeader","j","dealcolumn","dealheader","playerDeal","inputcontainer","step","e","dealIndex","flexShrink","ScoreSumsColumn","totals","resultcolumn","total","scoreSum","EarningSumsColumn","earnings","earning","earningSum","Table","scoreSums","earningSums","table","AppSubComp","children","margin","getTableProps","scoresSetup","scores","setScores","winnersSetup","winners","setWinners","earningsSetup","handleChangeWinner","newWinner","roundIndex","winner","i","winnerNames","dealEarnings","BestScoreEarning","score","reduce","sum","currentDeal","isSet","totalScoreWinner","length","currentWinner","currentResult","currentWinnerName","currentIndex","row0colj","getPlayersDealsAndResults","handleChangeScore","change","newScores","deal","typed","parseInt","getModifiedScores","App","concat","onChangeWinner","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f185aab6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table_table__33iWm\",\"playerscolumn\":\"table_playerscolumn__2fsQg\",\"dealscontainer\":\"table_dealscontainer__1XrHm\",\"dealcolumn\":\"table_dealcolumn__1udqx\",\"dealheader\":\"table_dealheader___1Q9Q\",\"inputcontainer\":\"table_inputcontainer__1jexm\",\"truncated\":\"table_truncated__WqQUc\",\"nameheader\":\"table_nameheader__Gr9_Y\",\"playername\":\"table_playername__1P8n_\",\"resultcolumn\":\"table_resultcolumn__qu47w\"};","import React from 'react';\n\nexport const Spacer = ({width, height}) =>\n(\n  <div style={{width, height}}>    \n  </div>\n)","import React from 'react';\nimport { Spacer } from '../../components/Spacer';\nimport styleClasses from './AddNameForm.module.less';\n\nexport const AddNameForm = ({ label, onAddName }) => {\n\n    const [name, setName] = React.useState('');\n    const handleSubmit = (event) => {\n      onAddName(name);\n      setName('');\n      event.preventDefault();\n    }\n    const handleChange = (event) => {\n      setName(event.target.value);\n    }\n    return (\n      <form onSubmit={handleSubmit}>\n        <label className={styleClasses.formLabel}>\n          {label}\n          <Spacer width=\"30px\" />\n          <input type=\"text\" onChange={handleChange} placeholder=\"Player name\" value={name} />\n        </label>\n      </form>\n    );\n  }","const dealsHeaders = ['2t', '1t 1e', '2e', '3t', '2t 1e', '2e 1t', '3e'];\nconst resultsHeaders = ['total', '$']\nconst dealsEarnings = [500, 1000, 1500, 2000, 2500,3000,3500];\nconst sumEarning = 5000;\nconst constants = {\n  dealsHeaders,\n  dealsEarnings,\n  sumEarning,\n  resultsHeaders,\n}\nexport default constants;","\nimport React from 'react';\nimport styles from './table.module.less';\nimport constants from '../../constants';\n\nconst nameHeader = 'Player';\n\nexport const PlayersColumn = ({ players }) =>\n  <div className={styles.playerscolumn}>\n    <div className={styles.nameheader}>{nameHeader}</div>\n    {\n      players.map(\n        player =>\n          <div className={styles.playername} key={player}>{player}</div>\n      )\n    }\n  </div>\n\nexport const DealsColumns = ({ deals, onChangeScore }) =>\n  <div className={styles.dealscontainer}>\n    {\n      constants.dealsHeaders.map(\n        (dealHeader, j) =>\n          <div key={dealHeader} className={styles.dealcolumn}>\n            <div className={styles.dealheader}>{dealHeader}</div>\n            {\n              (deals && deals[j] &&\n                deals[j].map(\n                  (playerDeal) =>\n                    <div key={playerDeal.name} className={styles.inputcontainer}>\n                      <input type=\"number\" step=\"5\" value={playerDeal.value} onChange={e => onChangeScore({ dealIndex: j, name: playerDeal.name, value: e.target.value })} />\n                      <div style={{width: '5px', flexShrink: '0px'}} />\n                    </div>\n                )) || null\n            }\n          </div>\n      )\n    }\n  </div>\n\nexport const ScoreSumsColumn = ({ totals }) =>\n  <div className={styles.resultcolumn}>\n    <div className={styles.dealheader}>{constants.resultsHeaders[0]}</div>\n    {\n      totals.map(total =>\n        <div key={total.name}>\n          {total.scoreSum}\n        </div>)\n    }\n  </div>\n\nexport const EarningSumsColumn = ({ earnings }) =>\n  <div className={styles.resultcolumn}>\n    <div className={styles.dealheader}>{constants.resultsHeaders[1]}</div>\n    {\n      earnings.map(earning =>\n        <div key={earning.name}>\n          {earning.earningSum}\n        </div>)\n    }\n  </div>\n","import React from 'react';\nimport { PlayersColumn, DealsColumns, ScoreSumsColumn, EarningSumsColumn } from './Table.subcomponents';\nimport styleClasses from './table.module.less'\n\nexport const Table = ({ players, deals, scoreSums, earningSums, onChangeScore }) => {\n  return (\n    <div className={styleClasses.table}>\n      <PlayersColumn players={players} />\n      <DealsColumns deals={deals} onChangeScore={onChangeScore} />\n      <ScoreSumsColumn totals={scoreSums} />\n      <EarningSumsColumn earnings={earningSums} />\n    </div>\n  )\n}","import React from 'react';\n\nconst AppContainer = ({children}) => \n  <div style = {{margin: '60px'}} >\n    {children}\n  </div>\n\nexport const AppSubComp = {\n  AppContainer\n}","const getNumber = (typed) => typed ? parseInt(typed, 10) : 0;\n\nconst getPlayersDealsAndResults = (scores, winnerNames,\n  {\n    dealEarnings,\n    BestScoreEarning,\n  }\n) => {\n\n  const scoreSums = scores.map(score => {\n    return {\n      name: score.name,\n      scoreSum: score.deals.reduce((sum, currentDeal) => sum + (currentDeal.isSet ? currentDeal.score : 0), 0),\n    }\n  });\n  const totalScoreWinner = scoreSums.length > 0 && scoreSums.reduce((currentWinner, currentResult) =>\n    currentResult.scoreSum < currentWinner.scoreSum ? currentResult : currentWinner);\n\n  const earningSums = scores.map(score => {\n    return {\n      name: score.name,\n      earningSum: winnerNames.reduce((sum, currentWinnerName, currentIndex) =>\n        currentWinnerName !== null ?\n        (sum + ((currentWinnerName === score.name) ? dealEarnings[currentIndex] * (scores.length - 1) : - dealEarnings[currentIndex]))\n        : sum, 0) +\n        ((score.name === totalScoreWinner.name) ? BestScoreEarning * (scores.length - 1) : -BestScoreEarning)\n    }\n  });\n\n  const deals = scores[0]?.deals?.map(\n    (row0colj, j) => scores.map(score => ({ name: score.name, value: score.deals[j].isSet ? score.deals[j].score : '' }))\n  );\n  const players = scores.map(score => score.name);\n  return { players, deals, scoreSums, earningSums };\n}\n\n\nconst getModifiedScores = ({ dealIndex, name, value }, scores) =>\n  scores.map(\n    score =>\n      score.name === name ?\n        {\n          ...score,\n          deals: score.deals.map(\n            (deal, j) => (j === dealIndex) ? { isSet: value !== '', score: getNumber(value) } : deal\n          ),\n        } : score\n  );\n\nexport const getTableProps = ({\n  scoresSetup: {\n    scores,\n    setScores,\n  },\n  winnersSetup: {\n    winners,\n    setWinners,\n  },\n  earningsSetup\n}) => {\n  const handleChangeScore = (change) => {\n    const newScores = getModifiedScores(change, scores);\n    setScores(newScores);\n    if (change.value === '0') {// TODO for now assuming change.name is the winner of the change.dealIndex round\n      handleChangeWinner(change.name, change.dealIndex);\n    }\n  };\n  const handleChangeWinner = (newWinner, roundIndex) => setWinners(winners.map((winner, i) => i === roundIndex ? newWinner : winner));\n  const { players, deals, scoreSums, earningSums } = getPlayersDealsAndResults(scores, winners, earningsSetup);\n  return { players, deals, scoreSums, earningSums, handleChangeScore, handleChangeWinner };\n}","import React, { useState } from 'react';\nimport { AddNameForm } from './components/AddNameForm/AddNameForm';\nimport { Table } from './components/Table/Table';\nimport { AppSubComp } from './App.subcomonents';\nimport { getTableProps } from './components/Table/Table.props';\nimport { Spacer } from './components/Spacer'\n\n\n\nconst App = () => {\n  const [scores, setScores] = useState([]);\n  const [winners, setWinners] = useState([null, null, null, null, null, null, null]);\n  const dealEarnings = [500, 1000, 1500, 2000, 2500, 3000, 3500];\n  const BestScoreEarning = 5000;\n  const {\n    players,\n    deals,\n    scoreSums,\n    earningSums,\n    handleChangeScore,\n    handleChangeWinner\n  } = getTableProps({\n    scoresSetup: {\n      scores,\n      setScores,\n    },\n    winnersSetup: {\n      winners,\n      setWinners,\n    },\n    earningsSetup: {\n      dealEarnings,\n      BestScoreEarning,\n    }\n  });\n  const onAddName = (name) => {\n    setScores(scores.concat({\n      name,\n      deals: [\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 }\n      ]\n    }));\n  }\n\n  return (\n    <AppSubComp.AppContainer>\n      <AddNameForm label=\"Name\" onAddName={onAddName} />\n      <Spacer height=\"20px\" />\n      <Table players={players} deals={deals} scoreSums={scoreSums} earningSums={earningSums} onChangeScore={handleChangeScore} onChangeWinner={handleChangeWinner} />\n    </AppSubComp.AppContainer>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formLabel\":\"AddNameForm_formLabel__jAOhQ\"};"],"sourceRoot":""}