{"version":3,"sources":["components/Table/table.module.less","components/AddNameForm/AddNameForm.js","constants.js","components/Table/Table.subcomponents.js","components/Table/Table.js","App.subcomonents.js","components/Table/Table.props.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","AddNameForm","label","onAddName","React","useState","name","setName","onSubmit","event","preventDefault","type","onChange","target","value","constants","dealsHeaders","dealsEarnings","sumEarning","resultsHeaders","PlayersColumn","players","className","styles","playerscolumn","nameheader","map","player","playername","DealsColumns","deals","onChangeScore","dealscontainer","dealHeader","j","dealcolumn","dealheader","playerDeal","e","dealIndex","ScoreSumsColumn","totals","resultcolumn","total","scoreSum","EarningSumsColumn","earnings","earning","earningSum","Table","scoreSums","earningSums","styleClasses","table","AppSubComp","children","style","margin","getTableProps","scoresSetup","scores","setScores","winnersSetup","winners","setWinners","earningsSetup","handleChangeWinner","newWinner","roundIndex","winner","i","winnerNames","dealEarnings","BestScoreEarning","score","reduce","sum","currentDeal","isSet","totalScoreWinner","length","currentWinner","currentResult","currentWinnerName","currentIndex","row0colj","getPlayersDealsAndResults","handleChangeScore","change","newScores","deal","typed","parseInt","getModifiedScores","App","concat","onChangeWinner","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07d2a05f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table_table__33iWm\",\"playerscolumn\":\"table_playerscolumn__2fsQg\",\"dealscontainer\":\"table_dealscontainer__1XrHm\",\"dealcolumn\":\"table_dealcolumn__1udqx\",\"dealheader\":\"table_dealheader___1Q9Q\",\"truncated\":\"table_truncated__WqQUc\",\"nameheader\":\"table_nameheader__Gr9_Y\",\"playername\":\"table_playername__1P8n_\",\"resultcolumn\":\"table_resultcolumn__qu47w\"};","import React from 'react';\n\nexport const AddNameForm = ({ label, onAddName }) => {\n\n    const [name, setName] = React.useState('');\n    const handleSubmit = (event) => {\n      onAddName(name);\n      setName('');\n      event.preventDefault();\n    }\n    const handleChange = (event) => {\n      setName(event.target.value);\n    }\n    return (\n      <form onSubmit={handleSubmit}>\n        <label>\n          {label}\n          <input type=\"text\" onChange={handleChange} value={name} />\n        </label>\n      </form>\n    );\n  }","const dealsHeaders = ['2t', '1t 1st', '2st', '3t', '2t 1st', '2st 1t', '3s'];\nconst resultsHeaders = ['total', '$']\nconst dealsEarnings = [500, 1000, 1500, 2000, 2500,3000,3500];\nconst sumEarning = 5000;\nconst constants = {\n  dealsHeaders,\n  dealsEarnings,\n  sumEarning,\n  resultsHeaders,\n}\nexport default constants;","\nimport React from 'react';\nimport styles from './table.module.less';\nimport constants from '../../constants';\n\nconst nameHeader = 'Player';\n\nexport const PlayersColumn = ({ players }) =>\n  <div className={styles.playerscolumn}>\n    <div className={styles.nameheader}>{nameHeader}</div>\n    {\n      players.map(\n        player =>\n          <div className={styles.playername} key={player}>{player}</div>\n      )\n    }\n  </div>\n\nexport const DealsColumns = ({ deals, onChangeScore }) =>\n  <div className={styles.dealscontainer}>\n    {\n      constants.dealsHeaders.map(\n        (dealHeader, j) =>\n          <div key={dealHeader} className={styles.dealcolumn}>\n            <div className={styles.dealheader}>{dealHeader}</div>\n            {\n              (deals && deals[j] &&\n                deals[j].map(\n                  (playerDeal) =>\n                    <li key={playerDeal.name}>\n                      <input type=\"number\" value={playerDeal.value} onChange={e => onChangeScore({ dealIndex: j, name: playerDeal.name, value: e.target.value })} />\n                    </li>\n                )) || null\n            }\n          </div>\n      )\n    }\n  </div>\n\nexport const ScoreSumsColumn = ({ totals }) =>\n  <div className={styles.resultcolumn}>\n    <div className={styles.dealheader}>{constants.resultsHeaders[0]}</div>\n    {\n      totals.map(total =>\n        <div key={total.name}>\n          {total.scoreSum}\n        </div>)\n    }\n  </div>\n\nexport const EarningSumsColumn = ({ earnings }) =>\n  <div className={styles.resultcolumn}>\n    <div className={styles.dealheader}>{constants.resultsHeaders[1]}</div>\n    {\n      earnings.map(earning =>\n        <div key={earning.name}>\n          {earning.earningSum}\n        </div>)\n    }\n  </div>\n","import React from 'react';\nimport { PlayersColumn, DealsColumns, ScoreSumsColumn, EarningSumsColumn } from './Table.subcomponents';\nimport styleClasses from './table.module.less'\n\nexport const Table = ({ players, deals, scoreSums, earningSums, onChangeScore }) => {\n  return (\n    <div className={styleClasses.table}>\n      <PlayersColumn players={players} />\n      <DealsColumns deals={deals} onChangeScore={onChangeScore} />\n      <ScoreSumsColumn totals={scoreSums} />\n      <EarningSumsColumn earnings={earningSums} />\n    </div>\n  )\n}","import React from 'react';\n\nconst AppContainer = ({children}) => \n  <div style = {{margin: '10px'}} >\n    {children}\n  </div>\n\nexport const AppSubComp = {\n  AppContainer\n}","const getNumber = (typed) => typed ? parseInt(typed, 10) : 0;\n\nconst getPlayersDealsAndResults = (scores, winnerNames,\n  {\n    dealEarnings,\n    BestScoreEarning,\n  }\n) => {\n\n  const scoreSums = scores.map(score => {\n    return {\n      name: score.name,\n      scoreSum: score.deals.reduce((sum, currentDeal) => sum + (currentDeal.isSet ? currentDeal.score : 0), 0),\n    }\n  });\n  const totalScoreWinner = scoreSums.length > 0 && scoreSums.reduce((currentWinner, currentResult) =>\n    currentResult.scoreSum < currentWinner.scoreSum ? currentResult : currentWinner);\n\n  const earningSums = scores.map(score => {\n    return {\n      name: score.name,\n      earningSum: winnerNames.reduce((sum, currentWinnerName, currentIndex) =>\n        currentWinnerName !== null ?\n        (sum + ((currentWinnerName === score.name) ? dealEarnings[currentIndex] * (scores.length - 1) : - dealEarnings[currentIndex]))\n        : sum, 0) +\n        ((score.name === totalScoreWinner.name) ? BestScoreEarning * (scores.length - 1) : -BestScoreEarning)\n    }\n  });\n\n  const deals = scores[0]?.deals?.map(\n    (row0colj, j) => scores.map(score => ({ name: score.name, value: score.deals[j].isSet ? score.deals[j].score : '' }))\n  );\n  const players = scores.map(score => score.name);\n  return { players, deals, scoreSums, earningSums };\n}\n\n\nconst getModifiedScores = ({ dealIndex, name, value }, scores) =>\n  scores.map(\n    score =>\n      score.name === name ?\n        {\n          ...score,\n          deals: score.deals.map(\n            (deal, j) => (j === dealIndex) ? { isSet: value !== '', score: getNumber(value) } : deal\n          ),\n        } : score\n  );\n\nexport const getTableProps = ({\n  scoresSetup: {\n    scores,\n    setScores,\n  },\n  winnersSetup: {\n    winners,\n    setWinners,\n  },\n  earningsSetup\n}) => {\n  const handleChangeScore = (change) => {\n    const newScores = getModifiedScores(change, scores);\n    setScores(newScores);\n    if (change.value === '0') {// TODO for now assuming change.name is the winner of the change.dealIndex round\n      handleChangeWinner(change.name, change.dealIndex);\n    }\n  };\n  const handleChangeWinner = (newWinner, roundIndex) => setWinners(winners.map((winner, i) => i === roundIndex ? newWinner : winner));\n  const { players, deals, scoreSums, earningSums } = getPlayersDealsAndResults(scores, winners, earningsSetup);\n  return { players, deals, scoreSums, earningSums, handleChangeScore, handleChangeWinner };\n}","import React, { useState } from 'react';\nimport { AddNameForm } from './components/AddNameForm/AddNameForm';\nimport { Table } from './components/Table/Table';\nimport { AppSubComp } from './App.subcomonents';\nimport { getTableProps } from './components/Table/Table.props';\n\n\n\nconst App = () => {\n  const [scores, setScores] = useState([]);\n  const [winners, setWinners] = useState([null, null, null, null, null, null, null]);\n  const dealEarnings = [500, 1000, 1500, 2000, 2500, 3000, 3500];\n  const BestScoreEarning = 5000;\n  const {\n    players,\n    deals,\n    scoreSums,\n    earningSums,\n    handleChangeScore,\n    handleChangeWinner\n  } = getTableProps({\n    scoresSetup: {\n      scores,\n      setScores,\n    },\n    winnersSetup: {\n      winners,\n      setWinners,\n    },\n    earningsSetup: {\n      dealEarnings,\n      BestScoreEarning,\n    }\n  });\n  const onAddName = (name) => {\n    setScores(scores.concat({\n      name,\n      deals: [\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 },\n        { isSet: false, score: 0 }\n      ]\n    }));\n  }\n\n  return (\n    <AppSubComp.AppContainer>\n      <AddNameForm label=\"Name\" onAddName={onAddName} />\n      <Table players={players} deals={deals} scoreSums={scoreSums} earningSums={earningSums} onChangeScore={handleChangeScore} onChangeWinner={handleChangeWinner} />\n    </AppSubComp.AppContainer>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}